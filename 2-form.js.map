{"version":3,"file":"2-form.js","sources":["../src/js/2-form.js"],"sourcesContent":["import { isEmail } from \"validator\"\nimport iziToast from \"izitoast\"\nimport \"izitoast/dist/css/iziToast.min.css\"\n\nconst storageKey = \"feedback-form-state\"\nconst savedData = JSON.parse(localStorage.getItem(storageKey)) || {}\nconst formData = {\n  email: savedData.email ?? \"\",\n  message: savedData.message ?? \"\",\n}\nconst form = document.querySelector(\".feedback-form\")\nArray.from(form.elements).forEach(item => {\n  if (item.nodeName !== \"INPUT\" && item.nodeName !== \"TEXTAREA\") return\n  item.value = formData[item.name]\n})\nconst checkValidity = () => {\n  return (\n    formData.email.trim() === \"\" ||\n    !isEmail(formData.email) ||\n    formData.message.trim() === \"\"\n  )\n}\nform.addEventListener(\"input\", e => {\n  formData[e.target.name] = e.target.value\n  localStorage.setItem(storageKey, JSON.stringify(formData))\n})\nform.addEventListener(\"submit\", e => {\n  e.preventDefault()\n\n  if (checkValidity()) {\n    iziToast.error({\n      title: \"Hey\",\n      message: \"Fill please all fields!\",\n    })\n    return\n  }\n  console.log(\"Submitted form data:\", { ...formData })\n\n  iziToast.success({\n    title: \"Yoopeee\",\n    message: \"Thank you for sending your message! ðŸ˜Š\",\n  })\n  Array.from(form.elements).forEach(item => {\n    if (item.nodeName !== \"INPUT\" && item.nodeName !== \"TEXTAREA\") return\n    formData[item.name] = \"\"\n    item.value = \"\"\n  })\n\n  localStorage.removeItem(storageKey)\n})\n"],"names":["storageKey","savedData","formData","form","item","checkValidity","isEmail","iziToast"],"mappings":"2GAIA,MAAMA,EAAa,sBACbC,EAAY,KAAK,MAAM,aAAa,QAAQD,CAAU,CAAC,GAAK,CAAE,EAC9DE,EAAW,CACf,MAAOD,EAAU,OAAS,GAC1B,QAASA,EAAU,SAAW,EAChC,EACME,EAAO,SAAS,cAAc,gBAAgB,EACpD,MAAM,KAAKA,EAAK,QAAQ,EAAE,QAAQC,GAAQ,CACpCA,EAAK,WAAa,SAAWA,EAAK,WAAa,aACnDA,EAAK,MAAQF,EAASE,EAAK,IAAI,EACjC,CAAC,EACD,MAAMC,EAAgB,IAElBH,EAAS,MAAM,KAAI,IAAO,IAC1B,CAACI,EAAO,QAACJ,EAAS,KAAK,GACvBA,EAAS,QAAQ,KAAI,IAAO,GAGhCC,EAAK,iBAAiB,QAAS,GAAK,CAClCD,EAAS,EAAE,OAAO,IAAI,EAAI,EAAE,OAAO,MACnC,aAAa,QAAQF,EAAY,KAAK,UAAUE,CAAQ,CAAC,CAC3D,CAAC,EACDC,EAAK,iBAAiB,SAAU,GAAK,CAGnC,GAFA,EAAE,eAAgB,EAEdE,EAAa,EAAI,CACnBE,EAAS,MAAM,CACb,MAAO,MACP,QAAS,yBACf,CAAK,EACD,MACD,CACD,QAAQ,IAAI,uBAAwB,CAAE,GAAGL,CAAQ,CAAE,EAEnDK,EAAS,QAAQ,CACf,MAAO,UACP,QAAS,wCACb,CAAG,EACD,MAAM,KAAKJ,EAAK,QAAQ,EAAE,QAAQC,GAAQ,CACpCA,EAAK,WAAa,SAAWA,EAAK,WAAa,aACnDF,EAASE,EAAK,IAAI,EAAI,GACtBA,EAAK,MAAQ,GACjB,CAAG,EAED,aAAa,WAAWJ,CAAU,CACpC,CAAC"}